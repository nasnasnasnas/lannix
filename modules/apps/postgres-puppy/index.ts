// @bun
// GENERATED, do not edit
var wH=Object.create;var{getPrototypeOf:hH,defineProperty:w0,getOwnPropertyNames:CH}=Object;var TH=Object.prototype.hasOwnProperty;var kH=(H,K,Q)=>{Q=H!=null?wH(hH(H)):{};let X=K||!H||!H.__esModule?w0(Q,"default",{value:H,enumerable:!0}):Q;for(let Z of CH(H))if(!TH.call(X,Z))w0(X,Z,{get:()=>H[Z],enumerable:!0});return X};var b=(H,K)=>()=>(K||H((K={exports:{}}).exports,K),K.exports);var _=import.meta.require;var x0=b((nH,$)=>{var __dirname="/home/leah/lannix/postgres-puppy/node_modules/@1password/sdk-core/nodejs",C0={};C0.__wbindgen_placeholder__=nH;var O,{TextDecoder:PH,TextEncoder:xH}=_("util"),T0=new PH("utf-8",{ignoreBOM:!0,fatal:!0});T0.decode();var e=null;function H0(){if(e===null||e.byteLength===0)e=new Uint8Array(O.memory.buffer);return e}function j(H,K){return H=H>>>0,T0.decode(H0().subarray(H,H+K))}function i(H){let K=O.__externref_table_alloc();return O.__wbindgen_export_2.set(K,H),K}function V(H,K){try{return H.apply(this,K)}catch(Q){let X=i(Q);O.__wbindgen_exn_store(X)}}function o(H){return H===void 0||H===null}var P=0,K0=new xH("utf-8"),IH=typeof K0.encodeInto==="function"?function(H,K){return K0.encodeInto(H,K)}:function(H,K){let Q=K0.encode(H);return K.set(Q),{read:H.length,written:Q.length}};function m(H,K,Q){if(Q===void 0){let z=K0.encode(H),N=K(z.length,1)>>>0;return H0().subarray(N,N+z.length).set(z),P=z.length,N}let X=H.length,Z=K(X,1)>>>0,Y=H0(),J=0;for(;J<X;J++){let z=H.charCodeAt(J);if(z>127)break;Y[Z+J]=z}if(J!==X){if(J!==0)H=H.slice(J);Z=Q(Z,X,X=J+H.length*3,1)>>>0;let z=H0().subarray(Z+J,Z+X),N=IH(H,z);J+=N.written,Z=Q(Z,X,J,1)>>>0}return P=J,Z}var u=null;function g(){if(u===null||u.buffer.detached===!0||u.buffer.detached===void 0&&u.buffer!==O.memory.buffer)u=new DataView(O.memory.buffer);return u}var h0=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((H)=>{O.__wbindgen_export_5.get(H.dtor)(H.a,H.b)});function k0(H,K,Q,X){let Z={a:H,b:K,cnt:1,dtor:Q},Y=(...J)=>{Z.cnt++;let z=Z.a;Z.a=0;try{return X(z,Z.b,...J)}finally{if(--Z.cnt===0)O.__wbindgen_export_5.get(Z.dtor)(z,Z.b),h0.unregister(Z);else Z.a=z}};return Y.original=Z,h0.register(Y,Z,Z),Y}function O0(H){let K=typeof H;if(K=="number"||K=="boolean"||H==null)return`${H}`;if(K=="string")return`"${H}"`;if(K=="symbol"){let Z=H.description;if(Z==null)return"Symbol";else return`Symbol(${Z})`}if(K=="function"){let Z=H.name;if(typeof Z=="string"&&Z.length>0)return`Function(${Z})`;else return"Function"}if(Array.isArray(H)){let Z=H.length,Y="[";if(Z>0)Y+=O0(H[0]);for(let J=1;J<Z;J++)Y+=", "+O0(H[J]);return Y+="]",Y}let Q=/\[object ([^\]]+)\]/.exec(toString.call(H)),X;if(Q&&Q.length>1)X=Q[1];else return toString.call(H);if(X=="Object")try{return"Object("+JSON.stringify(H)+")"}catch(Z){return"Object"}if(H instanceof Error)return`${H.name}: ${H.message}
${H.stack}`;return X}nH.init_client=function(H){let K=m(H,O.__wbindgen_malloc,O.__wbindgen_realloc),Q=P;return O.init_client(K,Q)};nH.invoke=function(H){let K=m(H,O.__wbindgen_malloc,O.__wbindgen_realloc),Q=P;return O.invoke(K,Q)};function P0(H){let K=O.__wbindgen_export_2.get(H);return O.__externref_table_dealloc(H),K}nH.invoke_sync=function(H){let K,Q;try{let Y=m(H,O.__wbindgen_malloc,O.__wbindgen_realloc),J=P,z=O.invoke_sync(Y,J);var X=z[0],Z=z[1];if(z[3])throw X=0,Z=0,P0(z[2]);return K=X,Q=Z,j(X,Z)}finally{O.__wbindgen_free(K,Q,1)}};nH.release_client=function(H){let K=m(H,O.__wbindgen_malloc,O.__wbindgen_realloc),Q=P,X=O.release_client(K,Q);if(X[1])throw P0(X[0])};function yH(H,K){O._dyn_core__ops__function__FnMut_____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h4fa304e9a7297dba(H,K)}function fH(H,K,Q){O.closure2484_externref_shim(H,K,Q)}function cH(H,K,Q,X){O.closure2632_externref_shim(H,K,Q,X)}var vH=["default","no-store","reload","no-cache","force-cache","only-if-cached"],_H=["omit","same-origin","include"],mH=["same-origin","no-cors","cors","navigate"];nH.__wbg_abort_410ec47a64ac6117=function(H,K){H.abort(K)};nH.__wbg_abort_775ef1d17fc65868=function(H){H.abort()};nH.__wbg_append_8c7dd8d641a5f01b=function(){return V(function(H,K,Q,X,Z){H.append(j(K,Q),j(X,Z))},arguments)};nH.__wbg_arrayBuffer_d1b44c4390db422f=function(){return V(function(H){return H.arrayBuffer()},arguments)};nH.__wbg_buffer_609cc3eee51ed158=function(H){return H.buffer};nH.__wbg_call_672a4d21634d4a24=function(){return V(function(H,K){return H.call(K)},arguments)};nH.__wbg_call_7cccdd69e0791ae2=function(){return V(function(H,K,Q){return H.call(K,Q)},arguments)};nH.__wbg_clearTimeout_42d9ccd50822fd3a=function(H){return clearTimeout(H)};nH.__wbg_crypto_86f2631e91b51511=function(H){return H.crypto};nH.__wbg_done_769e5ede4b31c67b=function(H){return H.done};nH.__wbg_fetch_509096533071c657=function(H,K){return H.fetch(K)};nH.__wbg_fetch_6bbc32f991730587=function(H){return fetch(H)};nH.__wbg_getFullYear_17d3c9e4db748eb7=function(H){return H.getFullYear()};nH.__wbg_getRandomValues_b3f15fcbfabb0f8b=function(){return V(function(H,K){H.getRandomValues(K)},arguments)};nH.__wbg_getTimezoneOffset_6b5752021c499c47=function(H){return H.getTimezoneOffset()};nH.__wbg_get_67b2ba62fc30de12=function(){return V(function(H,K){return Reflect.get(H,K)},arguments)};nH.__wbg_has_a5ea9117f258a0ec=function(){return V(function(H,K){return Reflect.has(H,K)},arguments)};nH.__wbg_headers_9cb51cfd2ac780a4=function(H){return H.headers};nH.__wbg_instanceof_Response_f2cc20d9f7dfd644=function(H){let K;try{K=H instanceof Response}catch(X){K=!1}return K};nH.__wbg_instanceof_Window_def73ea0955fc569=function(H){let K;try{K=H instanceof Window}catch(X){K=!1}return K};nH.__wbg_instanceof_WorkerGlobalScope_dbdbdea7e3b56493=function(H){let K;try{K=H instanceof WorkerGlobalScope}catch(X){K=!1}return K};nH.__wbg_iterator_9a24c88df860dc65=function(){return Symbol.iterator};nH.__wbg_languages_2420955220685766=function(H){return H.languages};nH.__wbg_languages_d8dad509faf757df=function(H){return H.languages};nH.__wbg_length_a446193dc22c12f8=function(H){return H.length};nH.__wbg_msCrypto_d562bbe83e0d4b91=function(H){return H.msCrypto};nH.__wbg_navigator_0a9bf1120e24fec2=function(H){return H.navigator};nH.__wbg_navigator_1577371c070c8947=function(H){return H.navigator};nH.__wbg_new0_f788a2397c7ca929=function(){return new Date};nH.__wbg_new_018dcc2d6c8c2f6a=function(){return V(function(){return new Headers},arguments)};nH.__wbg_new_23a2665fac83c611=function(H,K){try{var Q={a:H,b:K},X=(Y,J)=>{let z=Q.a;Q.a=0;try{return cH(z,Q.b,Y,J)}finally{Q.a=z}};return new Promise(X)}finally{Q.a=Q.b=0}};nH.__wbg_new_31a97dac4f10fab7=function(H){return new Date(H)};nH.__wbg_new_405e22f390576ce2=function(){return{}};nH.__wbg_new_a12002a7f91c75be=function(H){return new Uint8Array(H)};nH.__wbg_new_e25e5aab09ff45db=function(){return V(function(){return new AbortController},arguments)};nH.__wbg_newnoargs_105ed471475aaf50=function(H,K){return Function(j(H,K))};nH.__wbg_newwithbyteoffsetandlength_d97e637ebe145a9a=function(H,K,Q){return new Uint8Array(H,K>>>0,Q>>>0)};nH.__wbg_newwithlength_a381634e90c276d4=function(H){return new Uint8Array(H>>>0)};nH.__wbg_newwithstrandinit_06c535e0a867c635=function(){return V(function(H,K,Q){return new Request(j(H,K),Q)},arguments)};nH.__wbg_next_25feadfc0913fea9=function(H){return H.next};nH.__wbg_next_6574e1a8a62d1055=function(){return V(function(H){return H.next()},arguments)};nH.__wbg_node_e1f24f89a7336c2e=function(H){return H.node};nH.__wbg_now_807e54c39636c349=function(){return Date.now()};nH.__wbg_now_d18023d54d4e5500=function(H){return H.now()};nH.__wbg_parse_def2e24ef1252aff=function(){return V(function(H,K){return JSON.parse(j(H,K))},arguments)};nH.__wbg_process_3975fd6c72f520aa=function(H){return H.process};nH.__wbg_queueMicrotask_97d92b4fcc8a61c5=function(H){queueMicrotask(H)};nH.__wbg_queueMicrotask_d3219def82552485=function(H){return H.queueMicrotask};nH.__wbg_randomFillSync_f8c153b79f285817=function(){return V(function(H,K){H.randomFillSync(K)},arguments)};nH.__wbg_require_b74f47fc2d022fd6=function(){return V(function(){return $.require},arguments)};nH.__wbg_resolve_4851785c9c5f573d=function(H){return Promise.resolve(H)};nH.__wbg_self_b29ea9f89ecb0567=function(){return V(function(){return self.self},arguments)};nH.__wbg_setTimeout_4ec014681668a581=function(H,K){return setTimeout(H,K)};nH.__wbg_set_65595bdd868b3009=function(H,K,Q){H.set(K,Q>>>0)};nH.__wbg_setbody_5923b78a95eedf29=function(H,K){H.body=K};nH.__wbg_setcache_12f17c3a980650e4=function(H,K){H.cache=vH[K]};nH.__wbg_setcredentials_c3a22f1cd105a2c6=function(H,K){H.credentials=_H[K]};nH.__wbg_setheaders_834c0bdb6a8949ad=function(H,K){H.headers=K};nH.__wbg_setmethod_3c5280fe5d890842=function(H,K,Q){H.method=j(K,Q)};nH.__wbg_setmode_5dc300b865044b65=function(H,K){H.mode=mH[K]};nH.__wbg_setsignal_75b21ef3a81de905=function(H,K){H.signal=K};nH.__wbg_signal_aaf9ad74119f20a4=function(H){return H.signal};nH.__wbg_static_accessor_GLOBAL_88a902d13a557d07=function(){let H=typeof global>"u"?null:global;return o(H)?0:i(H)};nH.__wbg_static_accessor_GLOBAL_THIS_56578be7e9f832b0=function(){let H=typeof globalThis>"u"?null:globalThis;return o(H)?0:i(H)};nH.__wbg_static_accessor_SELF_37c5d418e4bf5819=function(){let H=typeof self>"u"?null:self;return o(H)?0:i(H)};nH.__wbg_static_accessor_WINDOW_5de37043a91a9c40=function(){let H=typeof window>"u"?null:window;return o(H)?0:i(H)};nH.__wbg_static_accessor_performance_da77b3a901a72934=function(){return performance};nH.__wbg_status_f6360336ca686bf0=function(H){return H.status};nH.__wbg_stringify_f7ed6987935b4a24=function(){return V(function(H){return JSON.stringify(H)},arguments)};nH.__wbg_subarray_aa9065fa9dc5df96=function(H,K,Q){return H.subarray(K>>>0,Q>>>0)};nH.__wbg_then_44b73946d2fb3e7d=function(H,K){return H.then(K)};nH.__wbg_then_48b406749878a531=function(H,K,Q){return H.then(K,Q)};nH.__wbg_toLocaleDateString_e5424994746e8415=function(H,K,Q,X){return H.toLocaleDateString(j(K,Q),X)};nH.__wbg_url_ae10c34ca209681d=function(H,K){let Q=K.url,X=m(Q,O.__wbindgen_malloc,O.__wbindgen_realloc),Z=P;g().setInt32(H+4,Z,!0),g().setInt32(H+0,X,!0)};nH.__wbg_value_cd1ffa7b1ab794f1=function(H){return H.value};nH.__wbg_values_99f7a68c7f313d66=function(H){return H.values()};nH.__wbg_versions_4e31226f5e8dc909=function(H){return H.versions};nH.__wbg_window_aa5515e600e96252=function(){return V(function(){return window.window},arguments)};nH.__wbindgen_cb_drop=function(H){let K=H.original;if(K.cnt--==1)return K.a=0,!0;return!1};nH.__wbindgen_closure_wrapper9169=function(H,K,Q){return k0(H,K,2463,yH)};nH.__wbindgen_closure_wrapper9209=function(H,K,Q){return k0(H,K,2485,fH)};nH.__wbindgen_debug_string=function(H,K){let Q=O0(K),X=m(Q,O.__wbindgen_malloc,O.__wbindgen_realloc),Z=P;g().setInt32(H+4,Z,!0),g().setInt32(H+0,X,!0)};nH.__wbindgen_init_externref_table=function(){let H=O.__wbindgen_export_2,K=H.grow(4);H.set(0,void 0),H.set(K+0,void 0),H.set(K+1,null),H.set(K+2,!0),H.set(K+3,!1)};nH.__wbindgen_is_function=function(H){return typeof H==="function"};nH.__wbindgen_is_object=function(H){let K=H;return typeof K==="object"&&K!==null};nH.__wbindgen_is_string=function(H){return typeof H==="string"};nH.__wbindgen_is_undefined=function(H){return H===void 0};nH.__wbindgen_memory=function(){return O.memory};nH.__wbindgen_number_new=function(H){return H};nH.__wbindgen_string_get=function(H,K){let Q=K,X=typeof Q==="string"?Q:void 0;var Z=o(X)?0:m(X,O.__wbindgen_malloc,O.__wbindgen_realloc),Y=P;g().setInt32(H+4,Y,!0),g().setInt32(H+0,Z,!0)};nH.__wbindgen_string_new=function(H,K){return j(H,K)};nH.__wbindgen_throw=function(H,K){throw Error(j(H,K))};var pH=_("path").join(__dirname,"core_bg.wasm"),dH=_("fs").readFileSync(pH),uH=new WebAssembly.Module(dH),gH=new WebAssembly.Instance(uH,C0);O=gH.exports;nH.__wasm=O;O.__wbindgen_start()});var x=b((i0)=>{Object.defineProperty(i0,"__esModule",{value:!0});i0.ReplacerFunc=i0.ReviverFunc=i0.UPDATE_ITEM_HISTORY=i0.UPDATE_ITEMS=i0.SEND_ITEMS=i0.REVEAL_ITEM_PASSWORD=i0.RECOVER_VAULT=i0.READ_ITEMS=i0.PRINT_ITEMS=i0.NO_ACCESS=i0.MANAGE_VAULT=i0.IMPORT_ITEMS=i0.EXPORT_ITEMS=i0.DELETE_ITEMS=i0.CREATE_ITEMS=i0.ARCHIVE_ITEMS=i0.WordListType=i0.SeparatorType=i0.VaultType=i0.AllowedRecipientType=i0.AllowedType=i0.ItemShareDuration=i0.ItemState=i0.AutofillBehavior=i0.ItemFieldType=i0.ItemCategory=i0.VaultAccessorType=i0.GroupState=i0.GroupType=void 0;var I0;(function(H){H.Owners="owners",H.Administrators="administrators",H.Recovery="recovery",H.ExternalAccountManagers="externalAccountManagers",H.TeamMembers="teamMembers",H.UserDefined="userDefined",H.Unsupported="unsupported"})(I0||(i0.GroupType=I0={}));var y0;(function(H){H.Active="active",H.Deleted="deleted",H.Unsupported="unsupported"})(y0||(i0.GroupState=y0={}));var f0;(function(H){H.User="user",H.Group="group"})(f0||(i0.VaultAccessorType=f0={}));var c0;(function(H){H.Login="Login",H.SecureNote="SecureNote",H.CreditCard="CreditCard",H.CryptoWallet="CryptoWallet",H.Identity="Identity",H.Password="Password",H.Document="Document",H.ApiCredentials="ApiCredentials",H.BankAccount="BankAccount",H.Database="Database",H.DriverLicense="DriverLicense",H.Email="Email",H.MedicalRecord="MedicalRecord",H.Membership="Membership",H.OutdoorLicense="OutdoorLicense",H.Passport="Passport",H.Rewards="Rewards",H.Router="Router",H.Server="Server",H.SshKey="SshKey",H.SocialSecurityNumber="SocialSecurityNumber",H.SoftwareLicense="SoftwareLicense",H.Person="Person",H.Unsupported="Unsupported"})(c0||(i0.ItemCategory=c0={}));var v0;(function(H){H.Text="Text",H.Concealed="Concealed",H.CreditCardType="CreditCardType",H.CreditCardNumber="CreditCardNumber",H.Phone="Phone",H.Url="Url",H.Totp="Totp",H.Email="Email",H.Reference="Reference",H.SshKey="SshKey",H.Menu="Menu",H.MonthYear="MonthYear",H.Address="Address",H.Date="Date",H.Unsupported="Unsupported"})(v0||(i0.ItemFieldType=v0={}));var _0;(function(H){H.AnywhereOnWebsite="AnywhereOnWebsite",H.ExactDomain="ExactDomain",H.Never="Never"})(_0||(i0.AutofillBehavior=_0={}));var m0;(function(H){H.Active="active",H.Archived="archived"})(m0||(i0.ItemState=m0={}));var p0;(function(H){H.OneHour="OneHour",H.OneDay="OneDay",H.SevenDays="SevenDays",H.FourteenDays="FourteenDays",H.ThirtyDays="ThirtyDays"})(p0||(i0.ItemShareDuration=p0={}));var d0;(function(H){H.Authenticated="Authenticated",H.Public="Public"})(d0||(i0.AllowedType=d0={}));var u0;(function(H){H.Email="Email",H.Domain="Domain"})(u0||(i0.AllowedRecipientType=u0={}));var g0;(function(H){H.Personal="personal",H.Everyone="everyone",H.Transfer="transfer",H.UserCreated="userCreated",H.Unsupported="unsupported"})(g0||(i0.VaultType=g0={}));var n0;(function(H){H.Digits="digits",H.DigitsAndSymbols="digitsAndSymbols",H.Spaces="spaces",H.Hyphens="hyphens",H.Underscores="underscores",H.Periods="periods",H.Commas="commas"})(n0||(i0.SeparatorType=n0={}));var l0;(function(H){H.FullWords="fullWords",H.Syllables="syllables",H.ThreeLetters="threeLetters"})(l0||(i0.WordListType=l0={}));i0.ARCHIVE_ITEMS=256;i0.CREATE_ITEMS=128;i0.DELETE_ITEMS=512;i0.EXPORT_ITEMS=4194304;i0.IMPORT_ITEMS=2097152;i0.MANAGE_VAULT=2;i0.NO_ACCESS=0;i0.PRINT_ITEMS=8388608;i0.READ_ITEMS=32;i0.RECOVER_VAULT=1;i0.REVEAL_ITEM_PASSWORD=16;i0.SEND_ITEMS=1048576;i0.UPDATE_ITEMS=64;i0.UPDATE_ITEM_HISTORY=1024;var yQ=(H,K)=>{if(typeof K==="string"&&/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?Z$/.test(K)&&(H==="createdAt"||H==="updatedAt"))return new Date(K);if(Array.isArray(K)&&K.every((Q)=>Number.isInteger(Q)&&Q>=0&&Q<=255)&&K.length>0)return new Uint8Array(K);return K};i0.ReviverFunc=yQ;var fQ=(H,K)=>{if(K instanceof Date)return K.toISOString();if(K instanceof Uint8Array)return Array.from(K);return K};i0.ReplacerFunc=fQ});var Q0=b((s0)=>{Object.defineProperty(s0,"__esModule",{value:!0});s0.throwError=s0.RateLimitExceededError=s0.DesktopSessionExpiredError=void 0;class N0 extends Error{constructor(H){super();this.message=H}}s0.DesktopSessionExpiredError=N0;class M0 extends Error{constructor(H){super();this.message=H}}s0.RateLimitExceededError=M0;var UX=(H)=>{let K;try{K=JSON.parse(H)}catch(Q){throw Error(H)}switch(K.name){case"DesktopSessionExpired":throw new N0(K.message);case"RateLimitExceeded":throw new M0(K.message);default:throw Error(K.message)}};s0.throwError=UX});var $0=b((F)=>{var s=F&&F.__awaiter||function(H,K,Q,X){function Z(Y){return Y instanceof Q?Y:new Q(function(J){J(Y)})}return new(Q||(Q=Promise))(function(Y,J){function z(q){try{B(X.next(q))}catch(U){J(U)}}function N(q){try{B(X.throw(q))}catch(U){J(U)}}function B(q){q.done?Y(q.value):Z(q.value).then(z,N)}B((X=X.apply(H,K||[])).next())})};Object.defineProperty(F,"__esModule",{value:!0});F.InnerClient=F.SharedCore=F.WasmCore=void 0;var Z0=x0(),t0=x(),a=Q0(),X0=52428800;class R0{initClient(H){return s(this,void 0,void 0,function*(){try{return yield(0,Z0.init_client)(H)}catch(K){(0,a.throwError)(K)}})}invoke(H){return s(this,void 0,void 0,function*(){try{return yield(0,Z0.invoke)(H)}catch(K){(0,a.throwError)(K)}})}releaseClient(H){try{(0,Z0.release_client)(H)}catch(K){console.warn("failed to release client:",K)}}}F.WasmCore=R0;class r0{constructor(){this.inner=new R0}setInner(H){this.inner=H}initClient(H){return s(this,void 0,void 0,function*(){let K=JSON.stringify(H);return this.inner.initClient(K)})}invoke(H){return s(this,void 0,void 0,function*(){let K=JSON.stringify(H,t0.ReplacerFunc);if(new TextEncoder().encode(K).length>X0)(0,a.throwError)(`message size exceeds the limit of ${X0} bytes, please contact 1Password at support@1password.com or https://developer.1password.com/joinslack if you need help."`);return this.inner.invoke(K)})}invoke_sync(H){let K=JSON.stringify(H,t0.ReplacerFunc);if(new TextEncoder().encode(K).length>X0)(0,a.throwError)(`message size exceeds the limit of ${X0} bytes, please contact 1Password at support@1password.com or https://developer.1password.com/joinslack if you need help.`);return(0,Z0.invoke_sync)(K)}releaseClient(H){let K=JSON.stringify(H);this.inner.releaseClient(K)}}F.SharedCore=r0;class e0{constructor(H,K,Q){this.id=H,this.core=K,this.config=Q}invoke(H){return s(this,void 0,void 0,function*(){try{return yield this.core.invoke(H)}catch(K){if(K instanceof a.DesktopSessionExpiredError){let Q=yield this.core.initClient(this.config);return this.id=parseInt(Q,10),H.invocation.clientId=this.id,yield this.core.invoke(H)}throw K}})}}F.InnerClient=e0});var QH=b((HH)=>{Object.defineProperty(HH,"__esModule",{value:!0});HH.SDK_BUILD_NUMBER=HH.SDK_VERSION=void 0;HH.SDK_VERSION="0.4.0";HH.SDK_BUILD_NUMBER="0040003"});var L0=b((E)=>{var RX=E&&E.__importDefault||function(H){return H&&H.__esModule?H:{default:H}};Object.defineProperty(E,"__esModule",{value:!0});E.getOsName=E.clientAuthConfig=E.DesktopAuth=E.VERSION=E.LANGUAGE=void 0;var XH=RX(_("os")),WX=QH();E.LANGUAGE="JS";E.VERSION=WX.SDK_BUILD_NUMBER;class W0{constructor(H){this.accountName=H}}E.DesktopAuth=W0;var LX=(H)=>{let Q,X;if(typeof H.auth==="string")Q=H.auth;else if(H.auth instanceof W0)X=H.auth.accountName;return{serviceAccountToken:Q!==null&&Q!==void 0?Q:"",accountName:X,programmingLanguage:E.LANGUAGE,sdkVersion:E.VERSION,integrationName:H.integrationName,integrationVersion:H.integrationVersion,requestLibraryName:"Fetch API",requestLibraryVersion:"Fetch API",os:(0,E.getOsName)(),osVersion:"0.0.0",architecture:XH.default.arch()}};E.clientAuthConfig=LX;var DX=()=>{let H=XH.default.type().toLowerCase();if(H==="windows_nt")return"windows";return H};E.getOsName=DX});var V0=b((S)=>{var ZH=S&&S.__awaiter||function(H,K,Q,X){function Z(Y){return Y instanceof Q?Y:new Q(function(J){J(Y)})}return new(Q||(Q=Promise))(function(Y,J){function z(q){try{B(X.next(q))}catch(U){J(U)}}function N(q){try{B(X.throw(q))}catch(U){J(U)}}function B(q){q.done?Y(q.value):Z(q.value).then(z,N)}B((X=X.apply(H,K||[])).next())})},VX=S&&S.__classPrivateFieldSet||function(H,K,Q,X,Z){if(X==="m")throw TypeError("Private method is not writable");if(X==="a"&&!Z)throw TypeError("Private accessor was defined without a setter");if(typeof K==="function"?H!==K||!Z:!K.has(H))throw TypeError("Cannot write private member to an object whose class did not declare it");return X==="a"?Z.call(H,Q):Z?Z.value=Q:K.set(H,Q),Q},Y0=S&&S.__classPrivateFieldGet||function(H,K,Q,X){if(Q==="a"&&!X)throw TypeError("Private accessor was defined without a getter");if(typeof K==="function"?H!==K||!X:!K.has(H))throw TypeError("Cannot read private member from an object whose class did not declare it");return Q==="m"?X:Q==="a"?X.call(H):X?X.value:K.get(H)},p;Object.defineProperty(S,"__esModule",{value:!0});S.Secrets=void 0;var $H=$0(),D0=x();class YH{constructor(H){p.set(this,void 0),VX(this,p,H,"f")}resolve(H){return ZH(this,void 0,void 0,function*(){let K={invocation:{clientId:Y0(this,p,"f").id,parameters:{name:"SecretsResolve",parameters:{secret_reference:H}}}};return JSON.parse(yield Y0(this,p,"f").invoke(K),D0.ReviverFunc)})}resolveAll(H){return ZH(this,void 0,void 0,function*(){let K={invocation:{clientId:Y0(this,p,"f").id,parameters:{name:"SecretsResolveAll",parameters:{secret_references:H}}}};return JSON.parse(yield Y0(this,p,"f").invoke(K),D0.ReviverFunc)})}static validateSecretReference(H){let K=new $H.SharedCore,Q={invocation:{parameters:{name:"ValidateSecretReference",parameters:{secret_reference:H}}}};K.invoke_sync(Q)}static generatePassword(H){let K=new $H.SharedCore,Q={invocation:{parameters:{name:"GeneratePassword",parameters:{recipe:H}}}};return JSON.parse(K.invoke_sync(Q),D0.ReviverFunc)}}S.Secrets=YH;p=new WeakMap});var JH=b((w)=>{var E0=w&&w.__awaiter||function(H,K,Q,X){function Z(Y){return Y instanceof Q?Y:new Q(function(J){J(Y)})}return new(Q||(Q=Promise))(function(Y,J){function z(q){try{B(X.next(q))}catch(U){J(U)}}function N(q){try{B(X.throw(q))}catch(U){J(U)}}function B(q){q.done?Y(q.value):Z(q.value).then(z,N)}B((X=X.apply(H,K||[])).next())})},EX=w&&w.__classPrivateFieldSet||function(H,K,Q,X,Z){if(X==="m")throw TypeError("Private method is not writable");if(X==="a"&&!Z)throw TypeError("Private accessor was defined without a setter");if(typeof K==="function"?H!==K||!Z:!K.has(H))throw TypeError("Cannot write private member to an object whose class did not declare it");return X==="a"?Z.call(H,Q):Z?Z.value=Q:K.set(H,Q),Q},n=w&&w.__classPrivateFieldGet||function(H,K,Q,X){if(Q==="a"&&!X)throw TypeError("Private accessor was defined without a getter");if(typeof K==="function"?H!==K||!X:!K.has(H))throw TypeError("Cannot read private member from an object whose class did not declare it");return Q==="m"?X:Q==="a"?X.call(H):X?X.value:K.get(H)},I;Object.defineProperty(w,"__esModule",{value:!0});w.ItemsShares=void 0;var b0=x();class qH{constructor(H){I.set(this,void 0),EX(this,I,H,"f")}getAccountPolicy(H,K){return E0(this,void 0,void 0,function*(){let Q={invocation:{clientId:n(this,I,"f").id,parameters:{name:"ItemsSharesGetAccountPolicy",parameters:{vault_id:H,item_id:K}}}};return JSON.parse(yield n(this,I,"f").invoke(Q),b0.ReviverFunc)})}validateRecipients(H,K){return E0(this,void 0,void 0,function*(){let Q={invocation:{clientId:n(this,I,"f").id,parameters:{name:"ItemsSharesValidateRecipients",parameters:{policy:H,recipients:K}}}};return JSON.parse(yield n(this,I,"f").invoke(Q),b0.ReviverFunc)})}create(H,K,Q){return E0(this,void 0,void 0,function*(){let X={invocation:{clientId:n(this,I,"f").id,parameters:{name:"ItemsSharesCreate",parameters:{item:H,policy:K,params:Q}}}};return JSON.parse(yield n(this,I,"f").invoke(X),b0.ReviverFunc)})}}w.ItemsShares=qH;I=new WeakMap});var BH=b((h)=>{var q0=h&&h.__awaiter||function(H,K,Q,X){function Z(Y){return Y instanceof Q?Y:new Q(function(J){J(Y)})}return new(Q||(Q=Promise))(function(Y,J){function z(q){try{B(X.next(q))}catch(U){J(U)}}function N(q){try{B(X.throw(q))}catch(U){J(U)}}function B(q){q.done?Y(q.value):Z(q.value).then(z,N)}B((X=X.apply(H,K||[])).next())})},bX=h&&h.__classPrivateFieldSet||function(H,K,Q,X,Z){if(X==="m")throw TypeError("Private method is not writable");if(X==="a"&&!Z)throw TypeError("Private accessor was defined without a setter");if(typeof K==="function"?H!==K||!Z:!K.has(H))throw TypeError("Cannot write private member to an object whose class did not declare it");return X==="a"?Z.call(H,Q):Z?Z.value=Q:K.set(H,Q),Q},v=h&&h.__classPrivateFieldGet||function(H,K,Q,X){if(Q==="a"&&!X)throw TypeError("Private accessor was defined without a getter");if(typeof K==="function"?H!==K||!X:!K.has(H))throw TypeError("Cannot read private member from an object whose class did not declare it");return Q==="m"?X:Q==="a"?X.call(H):X?X.value:K.get(H)},G;Object.defineProperty(h,"__esModule",{value:!0});h.ItemsFiles=void 0;var J0=x();class zH{constructor(H){G.set(this,void 0),bX(this,G,H,"f")}attach(H,K){return q0(this,void 0,void 0,function*(){let Q={invocation:{clientId:v(this,G,"f").id,parameters:{name:"ItemsFilesAttach",parameters:{item:H,file_params:K}}}};return JSON.parse(yield v(this,G,"f").invoke(Q),J0.ReviverFunc)})}read(H,K,Q){return q0(this,void 0,void 0,function*(){let X={invocation:{clientId:v(this,G,"f").id,parameters:{name:"ItemsFilesRead",parameters:{vault_id:H,item_id:K,attr:Q}}}};return JSON.parse(yield v(this,G,"f").invoke(X),J0.ReviverFunc)})}delete(H,K,Q){return q0(this,void 0,void 0,function*(){let X={invocation:{clientId:v(this,G,"f").id,parameters:{name:"ItemsFilesDelete",parameters:{item:H,section_id:K,field_id:Q}}}};return JSON.parse(yield v(this,G,"f").invoke(X),J0.ReviverFunc)})}replaceDocument(H,K){return q0(this,void 0,void 0,function*(){let Q={invocation:{clientId:v(this,G,"f").id,parameters:{name:"ItemsFilesReplaceDocument",parameters:{item:H,doc_params:K}}}};return JSON.parse(yield v(this,G,"f").invoke(Q),J0.ReviverFunc)})}}h.ItemsFiles=zH;G=new WeakMap});var OH=b((C)=>{var y=C&&C.__awaiter||function(H,K,Q,X){function Z(Y){return Y instanceof Q?Y:new Q(function(J){J(Y)})}return new(Q||(Q=Promise))(function(Y,J){function z(q){try{B(X.next(q))}catch(U){J(U)}}function N(q){try{B(X.throw(q))}catch(U){J(U)}}function B(q){q.done?Y(q.value):Z(q.value).then(z,N)}B((X=X.apply(H,K||[])).next())})},AX=C&&C.__classPrivateFieldSet||function(H,K,Q,X,Z){if(X==="m")throw TypeError("Private method is not writable");if(X==="a"&&!Z)throw TypeError("Private accessor was defined without a setter");if(typeof K==="function"?H!==K||!Z:!K.has(H))throw TypeError("Cannot write private member to an object whose class did not declare it");return X==="a"?Z.call(H,Q):Z?Z.value=Q:K.set(H,Q),Q},L=C&&C.__classPrivateFieldGet||function(H,K,Q,X){if(Q==="a"&&!X)throw TypeError("Private accessor was defined without a getter");if(typeof K==="function"?H!==K||!X:!K.has(H))throw TypeError("Cannot read private member from an object whose class did not declare it");return Q==="m"?X:Q==="a"?X.call(H):X?X.value:K.get(H)},M;Object.defineProperty(C,"__esModule",{value:!0});C.Items=void 0;var d=x(),GX=JH(),jX=BH();class UH{constructor(H){M.set(this,void 0),AX(this,M,H,"f"),this.shares=new GX.ItemsShares(H),this.files=new jX.ItemsFiles(H)}create(H){return y(this,void 0,void 0,function*(){let K={invocation:{clientId:L(this,M,"f").id,parameters:{name:"ItemsCreate",parameters:{params:H}}}};return JSON.parse(yield L(this,M,"f").invoke(K),d.ReviverFunc)})}createAll(H,K){return y(this,void 0,void 0,function*(){let Q={invocation:{clientId:L(this,M,"f").id,parameters:{name:"ItemsCreateAll",parameters:{vault_id:H,params:K}}}};return JSON.parse(yield L(this,M,"f").invoke(Q),d.ReviverFunc)})}get(H,K){return y(this,void 0,void 0,function*(){let Q={invocation:{clientId:L(this,M,"f").id,parameters:{name:"ItemsGet",parameters:{vault_id:H,item_id:K}}}};return JSON.parse(yield L(this,M,"f").invoke(Q),d.ReviverFunc)})}getAll(H,K){return y(this,void 0,void 0,function*(){let Q={invocation:{clientId:L(this,M,"f").id,parameters:{name:"ItemsGetAll",parameters:{vault_id:H,item_ids:K}}}};return JSON.parse(yield L(this,M,"f").invoke(Q),d.ReviverFunc)})}put(H){return y(this,void 0,void 0,function*(){let K={invocation:{clientId:L(this,M,"f").id,parameters:{name:"ItemsPut",parameters:{item:H}}}};return JSON.parse(yield L(this,M,"f").invoke(K),d.ReviverFunc)})}delete(H,K){return y(this,void 0,void 0,function*(){let Q={invocation:{clientId:L(this,M,"f").id,parameters:{name:"ItemsDelete",parameters:{vault_id:H,item_id:K}}}};yield L(this,M,"f").invoke(Q)})}deleteAll(H,K){return y(this,void 0,void 0,function*(){let Q={invocation:{clientId:L(this,M,"f").id,parameters:{name:"ItemsDeleteAll",parameters:{vault_id:H,item_ids:K}}}};return JSON.parse(yield L(this,M,"f").invoke(Q),d.ReviverFunc)})}archive(H,K){return y(this,void 0,void 0,function*(){let Q={invocation:{clientId:L(this,M,"f").id,parameters:{name:"ItemsArchive",parameters:{vault_id:H,item_id:K}}}};yield L(this,M,"f").invoke(Q)})}list(H,...K){return y(this,void 0,void 0,function*(){let Q={invocation:{clientId:L(this,M,"f").id,parameters:{name:"ItemsList",parameters:{vault_id:H,filters:K}}}};return JSON.parse(yield L(this,M,"f").invoke(Q),d.ReviverFunc)})}}C.Items=UH;M=new WeakMap});var MH=b((T)=>{var f=T&&T.__awaiter||function(H,K,Q,X){function Z(Y){return Y instanceof Q?Y:new Q(function(J){J(Y)})}return new(Q||(Q=Promise))(function(Y,J){function z(q){try{B(X.next(q))}catch(U){J(U)}}function N(q){try{B(X.throw(q))}catch(U){J(U)}}function B(q){q.done?Y(q.value):Z(q.value).then(z,N)}B((X=X.apply(H,K||[])).next())})},FX=T&&T.__classPrivateFieldSet||function(H,K,Q,X,Z){if(X==="m")throw TypeError("Private method is not writable");if(X==="a"&&!Z)throw TypeError("Private accessor was defined without a setter");if(typeof K==="function"?H!==K||!Z:!K.has(H))throw TypeError("Cannot write private member to an object whose class did not declare it");return X==="a"?Z.call(H,Q):Z?Z.value=Q:K.set(H,Q),Q},D=T&&T.__classPrivateFieldGet||function(H,K,Q,X){if(Q==="a"&&!X)throw TypeError("Private accessor was defined without a getter");if(typeof K==="function"?H!==K||!X:!K.has(H))throw TypeError("Cannot read private member from an object whose class did not declare it");return Q==="m"?X:Q==="a"?X.call(H):X?X.value:K.get(H)},R;Object.defineProperty(T,"__esModule",{value:!0});T.Vaults=void 0;var t=x();class NH{constructor(H){R.set(this,void 0),FX(this,R,H,"f")}create(H){return f(this,void 0,void 0,function*(){let K={invocation:{clientId:D(this,R,"f").id,parameters:{name:"VaultsCreate",parameters:{params:H}}}};return JSON.parse(yield D(this,R,"f").invoke(K),t.ReviverFunc)})}list(H){return f(this,void 0,void 0,function*(){let K={invocation:{clientId:D(this,R,"f").id,parameters:{name:"VaultsList",parameters:{params:H}}}};return JSON.parse(yield D(this,R,"f").invoke(K),t.ReviverFunc)})}getOverview(H){return f(this,void 0,void 0,function*(){let K={invocation:{clientId:D(this,R,"f").id,parameters:{name:"VaultsGetOverview",parameters:{vault_id:H}}}};return JSON.parse(yield D(this,R,"f").invoke(K),t.ReviverFunc)})}get(H,K){return f(this,void 0,void 0,function*(){let Q={invocation:{clientId:D(this,R,"f").id,parameters:{name:"VaultsGet",parameters:{vault_id:H,vault_params:K}}}};return JSON.parse(yield D(this,R,"f").invoke(Q),t.ReviverFunc)})}update(H,K){return f(this,void 0,void 0,function*(){let Q={invocation:{clientId:D(this,R,"f").id,parameters:{name:"VaultsUpdate",parameters:{vault_id:H,params:K}}}};return JSON.parse(yield D(this,R,"f").invoke(Q),t.ReviverFunc)})}delete(H){return f(this,void 0,void 0,function*(){let K={invocation:{clientId:D(this,R,"f").id,parameters:{name:"VaultsDelete",parameters:{vault_id:H}}}};yield D(this,R,"f").invoke(K)})}grantGroupPermissions(H,K){return f(this,void 0,void 0,function*(){let Q={invocation:{clientId:D(this,R,"f").id,parameters:{name:"VaultsGrantGroupPermissions",parameters:{vault_id:H,group_permissions_list:K}}}};yield D(this,R,"f").invoke(Q)})}updateGroupPermissions(H){return f(this,void 0,void 0,function*(){let K={invocation:{clientId:D(this,R,"f").id,parameters:{name:"VaultsUpdateGroupPermissions",parameters:{group_permissions_list:H}}}};yield D(this,R,"f").invoke(K)})}revokeGroupPermissions(H,K){return f(this,void 0,void 0,function*(){let Q={invocation:{clientId:D(this,R,"f").id,parameters:{name:"VaultsRevokeGroupPermissions",parameters:{vault_id:H,group_id:K}}}};yield D(this,R,"f").invoke(Q)})}}T.Vaults=NH;R=new WeakMap});var LH=b((k)=>{var SX=k&&k.__awaiter||function(H,K,Q,X){function Z(Y){return Y instanceof Q?Y:new Q(function(J){J(Y)})}return new(Q||(Q=Promise))(function(Y,J){function z(q){try{B(X.next(q))}catch(U){J(U)}}function N(q){try{B(X.throw(q))}catch(U){J(U)}}function B(q){q.done?Y(q.value):Z(q.value).then(z,N)}B((X=X.apply(H,K||[])).next())})},wX=k&&k.__classPrivateFieldSet||function(H,K,Q,X,Z){if(X==="m")throw TypeError("Private method is not writable");if(X==="a"&&!Z)throw TypeError("Private accessor was defined without a setter");if(typeof K==="function"?H!==K||!Z:!K.has(H))throw TypeError("Cannot write private member to an object whose class did not declare it");return X==="a"?Z.call(H,Q):Z?Z.value=Q:K.set(H,Q),Q},RH=k&&k.__classPrivateFieldGet||function(H,K,Q,X){if(Q==="a"&&!X)throw TypeError("Private accessor was defined without a getter");if(typeof K==="function"?H!==K||!X:!K.has(H))throw TypeError("Cannot read private member from an object whose class did not declare it");return Q==="m"?X:Q==="a"?X.call(H):X?X.value:K.get(H)},r;Object.defineProperty(k,"__esModule",{value:!0});k.Groups=void 0;var hX=x();class WH{constructor(H){r.set(this,void 0),wX(this,r,H,"f")}get(H,K){return SX(this,void 0,void 0,function*(){let Q={invocation:{clientId:RH(this,r,"f").id,parameters:{name:"GroupsGet",parameters:{group_id:H,group_params:K}}}};return JSON.parse(yield RH(this,r,"f").invoke(Q),hX.ReviverFunc)})}}k.Groups=WH;r=new WeakMap});var A0=b((VH)=>{Object.defineProperty(VH,"__esModule",{value:!0});VH.Client=void 0;var CX=V0(),TX=OH(),kX=MH(),PX=LH();class DH{constructor(H){this.secrets=new CX.Secrets(H),this.items=new TX.Items(H),this.vaults=new kX.Vaults(H),this.groups=new PX.Groups(H)}}VH.Client=DH});var AH=b((A)=>{var xX=A&&A.__createBinding||(Object.create?function(H,K,Q,X){if(X===void 0)X=Q;var Z=Object.getOwnPropertyDescriptor(K,Q);if(!Z||("get"in Z?!K.__esModule:Z.writable||Z.configurable))Z={enumerable:!0,get:function(){return K[Q]}};Object.defineProperty(H,X,Z)}:function(H,K,Q,X){if(X===void 0)X=Q;H[X]=K[Q]}),IX=A&&A.__setModuleDefault||(Object.create?function(H,K){Object.defineProperty(H,"default",{enumerable:!0,value:K})}:function(H,K){H.default=K}),j0=A&&A.__importStar||function(){var H=function(K){return H=Object.getOwnPropertyNames||function(Q){var X=[];for(var Z in Q)if(Object.prototype.hasOwnProperty.call(Q,Z))X[X.length]=Z;return X},H(K)};return function(K){if(K&&K.__esModule)return K;var Q={};if(K!=null){for(var X=H(K),Z=0;Z<X.length;Z++)if(X[Z]!=="default")xX(Q,K,X[Z])}return IX(Q,K),Q}}(),G0=A&&A.__awaiter||function(H,K,Q,X){function Z(Y){return Y instanceof Q?Y:new Q(function(J){J(Y)})}return new(Q||(Q=Promise))(function(Y,J){function z(q){try{B(X.next(q))}catch(U){J(U)}}function N(q){try{B(X.throw(q))}catch(U){J(U)}}function B(q){q.done?Y(q.value):Z(q.value).then(z,N)}B((X=X.apply(H,K||[])).next())})};Object.defineProperty(A,"__esModule",{value:!0});A.SharedLibCore=void 0;var yX=j0(_("fs")),z0=j0(_("os")),B0=j0(_("path")),fX=Q0(),cX=()=>{let H=z0.platform(),K=B0.dirname(process.execPath),Q=[];switch(H){case"darwin":Q=["/Applications/1Password.app/Contents/Frameworks/libop_sdk_ipc_client.dylib",B0.join(z0.homedir(),"/Applications/1Password.app/Contents/Frameworks/libop_sdk_ipc_client.dylib")];break;case"linux":Q=["/usr/bin/1password/libop_sdk_ipc_client.so","/opt/1Password/libop_sdk_ipc_client.so","/snap/bin/1password/libop_sdk_ipc_client.so"];break;case"win32":Q=[B0.join(z0.homedir(),"/AppData/Local/1Password/op_sdk_ipc_client.dll"),"C:/Program Files/1Password/app/8/op_sdk_ipc_client.dll","C:/Program Files (x86)/1Password/app/8/op_sdk_ipc_client.dll",B0.join(z0.homedir(),"/AppData/Local/1Password/app/8/op_sdk_ipc_client.dll")];break;default:throw Error(`Unsupported platform: ${H}`)}for(let X of Q)if(yX.existsSync(X))return X;throw Error("1Password desktop application not found")};class bH{constructor(H){this.lib=null;try{let K=cX(),Q={exports:{}};if(process.dlopen(Q,K),typeof Q==="object"&&Q!==null&&typeof Q.exports==="object"&&Q.exports!==null&&"sendMessage"in Q.exports&&typeof Q.exports.sendMessage==="function")this.lib=Q.exports;else throw Error("Failed to initialize native library: sendMessage function not found on module.")}catch(K){console.error("A critical error occurred while loading the native addon:",K),this.lib=null}this.acccountName=H}callSharedLibrary(H,K){return G0(this,void 0,void 0,function*(){if(!this.lib)throw Error("Native library is not available.");if(!H||H.length===0)throw Error("internal: empty input");let Q=Buffer.from(H,"utf8").toString("base64"),X={account_name:this.acccountName,kind:K,payload:Q},Z=Buffer.from(JSON.stringify(X),"utf8"),Y=yield this.lib.sendMessage(Z);if(!(Y instanceof Uint8Array))throw Error(`Native function returned an unexpected type. Expected Uint8Array, got ${typeof Y}`);let J=new TextDecoder().decode(Y),z=JSON.parse(J);if(z.success)return Buffer.from(z.payload).toString("utf8");else{let N=Array.isArray(z.payload)?String.fromCharCode(...z.payload):JSON.stringify(z.payload);(0,fX.throwError)(N)}})}initClient(H){return G0(this,void 0,void 0,function*(){return this.callSharedLibrary(H,"init_client")})}invoke(H){return G0(this,void 0,void 0,function*(){return this.callSharedLibrary(H,"invoke")})}releaseClient(H){this.callSharedLibrary(H,"release_client").catch((K)=>{console.warn("failed to release client:",K)})}}A.SharedLibCore=bH});var GH=b((l)=>{var vX=l&&l.__awaiter||function(H,K,Q,X){function Z(Y){return Y instanceof Q?Y:new Q(function(J){J(Y)})}return new(Q||(Q=Promise))(function(Y,J){function z(q){try{B(X.next(q))}catch(U){J(U)}}function N(q){try{B(X.throw(q))}catch(U){J(U)}}function B(q){q.done?Y(q.value):Z(q.value).then(z,N)}B((X=X.apply(H,K||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});l.createClientWithCore=void 0;var _X=$0(),mX=L0(),pX=A0(),dX=AH(),uX=new FinalizationRegistry((H)=>{H.core.releaseClient(H.id)}),gX=(H,K)=>vX(void 0,void 0,void 0,function*(){let Q=(0,mX.clientAuthConfig)(H);if(Q.accountName)K.setInner(new dX.SharedLibCore(Q.accountName));let X=yield K.initClient(Q),Z=new _X.InnerClient(parseInt(X,10),K,Q),Y=new pX.Client(Z);return uX.register(Y,Z),Y});l.createClientWithCore=gX});var jH=b((W)=>{var nX=W&&W.__createBinding||(Object.create?function(H,K,Q,X){if(X===void 0)X=Q;var Z=Object.getOwnPropertyDescriptor(K,Q);if(!Z||("get"in Z?!K.__esModule:Z.writable||Z.configurable))Z={enumerable:!0,get:function(){return K[Q]}};Object.defineProperty(H,X,Z)}:function(H,K,Q,X){if(X===void 0)X=Q;H[X]=K[Q]}),F0=W&&W.__exportStar||function(H,K){for(var Q in H)if(Q!=="default"&&!Object.prototype.hasOwnProperty.call(K,Q))nX(K,H,Q)},lX=W&&W.__awaiter||function(H,K,Q,X){function Z(Y){return Y instanceof Q?Y:new Q(function(J){J(Y)})}return new(Q||(Q=Promise))(function(Y,J){function z(q){try{B(X.next(q))}catch(U){J(U)}}function N(q){try{B(X.throw(q))}catch(U){J(U)}}function B(q){q.done?Y(q.value):Z(q.value).then(z,N)}B((X=X.apply(H,K||[])).next())})};Object.defineProperty(W,"__esModule",{value:!0});W.createClient=W.DesktopAuth=W.Secrets=W.DEFAULT_INTEGRATION_VERSION=W.DEFAULT_INTEGRATION_NAME=void 0;var iX=$0(),oX=GH();W.DEFAULT_INTEGRATION_NAME="Unknown";W.DEFAULT_INTEGRATION_VERSION="Unknown";var sX=V0();Object.defineProperty(W,"Secrets",{enumerable:!0,get:function(){return sX.Secrets}});var aX=L0();Object.defineProperty(W,"DesktopAuth",{enumerable:!0,get:function(){return aX.DesktopAuth}});F0(A0(),W);F0(Q0(),W);F0(x(),W);var tX=(H)=>lX(void 0,void 0,void 0,function*(){return(0,oX.createClientWithCore)(H,new iX.SharedCore)});W.createClient=tX});var c=kH(jH(),1);var{$:rX}=globalThis.Bun;var FH="q63632lctm4by3clskcul4gmf4",SH="MagicBox Postgres";if(!process.env.OP_SERVICE_ACCOUNT_TOKEN)throw"No 1Password auth provided";var U0=await c.default.createClient({auth:process.env.OP_SERVICE_ACCOUNT_TOKEN,integrationName:"Postgres Puppy",integrationVersion:"v1.0.0"});function S0(){return c.default.Secrets.generatePassword({type:"Random",parameters:{includeDigits:!0,includeSymbols:!0,length:20}}).password}if(!Bun.argv[2])throw"No input parameter provided";var eX=JSON.parse(Bun.argv[2]),HZ=(await U0.items.list(FH)).filter((H)=>H.category==="Database"&&H.tags.includes(SH)),KZ=await Promise.all(HZ.map((H)=>U0.items.get(H.vaultId,H.id)));for(let H of eX){let K=KZ.find((X)=>X.fields.find((Z)=>Z.id==="database"&&Z.value===H.name));if(!K)K=await U0.items.create({title:H.name+" Postgres",vaultId:FH,category:c.default.ItemCategory.Database,tags:[SH],fields:[{id:"database_type",title:"type",fieldType:c.default.ItemFieldType.Text,value:"postgresql"},{id:"database",title:"database",fieldType:c.default.ItemFieldType.Text,value:H.name},{id:"username",title:"username",fieldType:c.default.ItemFieldType.Text,value:H.name},{id:"password",title:"password",fieldType:c.default.ItemFieldType.Concealed,value:S0()}]});let Q=K.fields.find((X)=>X.id==="password")?.value;if(!Q){Q=S0();let X={...K,fields:[...K.fields,{id:"password",title:"password",fieldType:c.default.ItemFieldType.Concealed,value:S0()}]};await U0.items.put(X)}console.log(`Creating database ${H.name} if it doesn't exist`),await rX`docker exec -i postgres psql -U postgres <<SQL
		CREATE USER IF NOT EXISTS ${H.name};
		ALTER USER ${H.name} WITH PASSWORD '${Q}';
		SELECT 'CREATE DATABASE ${H.name} OWNER ${H.name}'
            WHERE NOT EXISTS (SELECT FROM pg_database WHERE datname = '${H.name}')\\gexec
	SQL`}console.log("All Postgres databases updated");
